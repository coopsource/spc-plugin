<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="4.2"?>
<plugin>
   <extension point="org.eclipse.ui.commands">
   		<category
   			name="Spoken Compiler"
   			description="Commands related to the spoken compiler"
   			id="com.example.helloworld.commands.category" />
   		<command
   			categoryId="com.example.helloworld.commands.category"
   			name="Compile"
   			description="Compile the current file"
   			id="com.example.helloworld.commands.compile" />
   		<command
   			categoryId="com.example.helloworld.commands.category"
   			name="Process Audio File"
   			description="Process the selected wav file as speech input"
   			id="com.example.helloworld.commands.processAudioFile" />
   		<command
   			categoryId="com.example.helloworld.commands.category"
   			name="Start Dictation"
   			description="Start Dictating a Program"
   			id="com.example.helloworld.commands.startDictation" />
   </extension>
   <extension point="org.eclipse.ui.menus">
   		<menuContribution locationURI="menu:org.eclipse.ui.main.menu?after=additions">
   			<menu id="com.example.helloworld.menus.spokenProgramMenu" label="Spoken Programming">
   				<command 
   					commandId="com.example.helloworld.commands.startDictation"
   					id="com.example.helloworld.menus.startDictationMenu"
   					icon="icons/microphone.png" />
   				<command 
   					commandId="com.example.helloworld.commands.processAudioFile"
   					id="com.example.helloworld.menus.processAudioFileMenu"
   					icon="icons/audio.png" />
   			</menu>
   		</menuContribution>
   		<menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar?after=additions">
   			<toolbar id="com.example.helloworld.toolbars.spokenProgram" label="Spoken Programming">
   				<command 
   					commandId="com.example.helloworld.commands.startDictation"
   					id="com.example.helloworld.toolbars.startDictation"
   					icon="icons/microphone.png" />
   				<command 
   					commandId="com.example.helloworld.commands.processAudioFile"
   					id="com.example.helloworld.menus.processAudioFileMenu"
   					icon="icons/audio.png" />
   			</toolbar>
   		</menuContribution>
   </extension>
   <extension point="org.eclipse.ui.handlers">
   		<handler
   			commandId="com.example.helloworld.commands.startDictation"
   			class="com.example.helloworld.handlers.StartDictation" />
   		<handler
   			commandId="com.example.helloworld.commands.processAudioFile"
   			class="com.example.helloworld.handlers.ProcessAudioFile" />
   </extension>
   <extension
      id="SpokenBuilder" name="Spoken Compiler Builder" point="org.eclipse.core.resources.builders">
      <builder hasNature="true">
         <run 
            class="com.example.helloworld.builders.SpokenBuilder">
            <parameter name="optimize" value="true" />
            <parameter name="comment" value="Builder comment" />
         </run>
      </builder>
   </extension>
   <extension
      id="SpokenBuilderNature"
      name="Spoken Compiler Builder"
      point="org.eclipse.core.resources.natures">
      <builder id="com.example.helloworld.SpokenBuilder" />
      <runtime>
         <run class="com.example.helloworld.builders.SpokenBuilderNature" />
      </runtime>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="org.eclipse.jdt.ui.JavaPerspective">
         <view
               id="com.example.helloworld.views.SpokenLangView"
               ratio="0.5"
               relationship="right"
               relative="org.eclipse.ui.views.ProblemView">
         </view>
      </perspectiveExtension>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <category
            id="com.example.helloworld"
            name="Spoken Programming">
      </category>
      <view
            allowMultiple="false"
            category="com.example.helloworld"
            class="com.example.helloworld.views.SpokenLangView"
            icon="icons/microphone.png"
            id="com.example.helloworld.views.SpokenLangView"
            name="Spoken Programming">
      </view>
   </extension>
</plugin>
